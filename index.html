<!DOCTYPE html>
<html>
<head>
    <title>Audio Stream</title>
</head>
<body>
    <h1>Live Audio Stream</h1>
    <audio id="audio" controls></audio>
    <script src="https://cdn.socket.io/4.0.1/socket.io.min.js"></script>
    <script>
        const audioElement = document.getElementById('audio');
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        const socket = io();

        socket.on('audio', function(data) {
            const buffer = new Float32Array(new Int16Array(data).buffer);
            const audioBuffer = audioContext.createBuffer(1, buffer.length, 44100);
            audioBuffer.copyToChannel(buffer, 0);
            const source = audioContext.createBufferSource();
            source.buffer = audioBuffer;
            source.connect(audioContext.destination);
            source.start();
        });
    </script>
</body>
</html>
